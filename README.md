# goldweb #

本网站在原生PHP5.6上开发，依赖smarty模板；前端使用JQuery库，网站结构如下：
index(入口):[
channel(频道):[
	header(返回箭头、搜索框等),
	(国内外标签)[外,内],
	列表[
		出发[外,内],
		抵达[外,内]
		]

]
右索引(搜索),
suggest(搜索结果建议)
]

## 前端功能说明 ##

* 定位：根据H5的POI或IP（sina和淘宝API），来确认出发的地点（变相的分站线路）；用户可修改。
* 搜索：guide,scenic,read,line+各自的参数（城市名字）
* 出游目的地：整个线路库表的目的地
* 导航：充分觉得需要进行重新编排
* 静态页面直接访问

## 为什么重写？ ##

项目初期为13年7月，去年php的版本已经到7，过去5.1版本代码错误太多并且执行效率低，每个业务线都要进行重构和优化，重写网站结构提升开发与debug的效率势在必行。改写之后，旧的参数可简单修改和适配。
第一次：2013年7月～11月，9～10月甲方忙于业务，到年底因为双方沟通不畅，导致项目无限延期……
第二次：15年1月，还是老问题，以至于很多功能开发了一半或前后矛盾；
第三次：17年2月中,目前通过第三方bug系统进行调整。

## 通用性 ##

目前只考虑PC端的使用，在个人电脑的chrome上进行调试，其它浏览器均未进行适配调试:

* Mobile Safari
* Chrome on iOS
* Chrome on Android
* Opera Mobile
* UC
* etc

## 工作日志 ##

2015-06-04 /main.php:line78,增加一个域名判断，直接进入mobile.php;以实现手机与PC的分离。
## 过去日志丢失，从2017年2月15日开始补全
2017-02-15 /common/inc/main.func.php:line4,增加中国地区对象areaCN。
2017-02-16 /common/inc/tool.func.php:line431,修改生成目录函数mkdirs。
2017-02-16 /common/inc/main.func.php:line67,增加smarty模板存放目录判断。
2017-02-17 /common/inc/tool.func.php:line720,优化获取IP地址函数getIP，增加IP地址通过新浪和淘宝接口函数getCity。
2017-02-17 /common/inc/tool.func.php:line,无用函数删除。
2017-02-18 开启服务器，权限变化沟通与测试中
2017-02-19 开启服务器，本地目录与旧机器之间版本冲突
---------------------------------------------------------------------
2017-02-20 版本冲突测试中，新增bug系统与今后工作方式。
2017-03-30 首页引入懒加载机制，优化显示速度；整理JS文件，提升执行效率。
2017-03-31 头部搜索更新，增加异步翻页js文件。
